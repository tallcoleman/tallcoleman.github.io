const fnSups=document.querySelectorAll("sup[role=doc-noteref]");for(const n of fnSups){var contentID=n.querySelector("a").getAttribute("href").substring(1),content=document.querySelector('[id="'+contentID+'"]').innerHTML,insertContent='<div class="annotation" fnid="'+contentID+'">'+content+"</div>";let t=document.querySelector('[anchorid="'+contentID+'"]');null!==t?t.insertAdjacentHTML("afterbegin",insertContent):n.insertAdjacentHTML("afterend",insertContent)}for(const n of fnSups)if(null===n.closest(".annotation-wrapper")&&null!==n.closest("p")){var containingPar=n.closest("p"),wrappedPar=document.createElement("div");wrappedPar.classList.add(...containingPar.classList),wrappedPar.classList.add("annotation-wrapper"),wrappedPar.insertAdjacentHTML("afterbegin",containingPar.innerHTML),containingPar.replaceWith(wrappedPar)}var sheet=function(){var n=document.createElement("style");return n.setAttribute("media","screen"),n.appendChild(document.createTextNode("")),document.head.appendChild(n),n.sheet}();const anBacklink=document.querySelectorAll("div.annotation a.reversefootnote");anBacklink.forEach(n=>n.remove()),sheet.insertRule("div.footnotes {display: none;}",0);const anLinks=document.querySelectorAll(".footnote, .annotation-link"),anContents=document.querySelectorAll(".annotation");for(let n=0;n<anLinks.length;n++){let t=function(t){t.preventDefault(),anContents[n].classList.toggle("annotation-expanded"),anContents[n].classList.toggle("annotation-displayed"),anLinks[n].classList.toggle("annotation-link-selected")};anLinks[n].addEventListener("click",t)}const fnButton=document.querySelectorAll(".annotation-button");var optionOpenText="Open all Footnotes",optionCloseText="Close all Footnotes";for(let n=0;n<fnButton.length;n++)fnButton[n].textContent=optionOpenText;for(let n=0;n<fnButton.length;n++)footnoteOpenClose=function(){if(fnButton[n].textContent==optionOpenText){for(let n=0;n<anContents.length;n++)anContents[n].classList.add("annotation-expanded","annotation-displayed"),anLinks[n].classList.add("annotation-link-selected");for(let n=0;n<fnButton.length;n++)fnButton[n].textContent=optionCloseText}else if(fnButton[n].textContent==optionCloseText){for(let n=0;n<anContents.length;n++)anContents[n].classList.remove("annotation-expanded","annotation-displayed"),anLinks[n].classList.remove("annotation-link-selected");for(let n=0;n<fnButton.length;n++)fnButton[n].textContent=optionOpenText}},fnButton[n].addEventListener("click",footnoteOpenClose);